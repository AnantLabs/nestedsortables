#summary Documentation for the NestedSortable jQuery/Interface plugin

= Introduction =

The !NestedSortable jQuery Plugin is built on top of the popular Interface plugin. !NestedSortable provides you with a way to easily build lists of elements that can be vertically sorted and nested (eg. one element can be made son of another) at the same time, using "Drag and Drop". It is based on Interface's Sortables and works on top of it. So, a NestedSortable will also have all the configuration options which are present in a regular Sortable in Interface. Some examples of possible usages:

 * Organizing a table of contents
 * Organizing a list of hierarchical pages (it was originally created with this goal, for WordPress)
 * Organizing categories

Perhaps the easier way to get what it does it by looking at the demo. This plugin was designed as part of a Google Summer of Code project for WordPress, in 2007. 

= Dependencies = 

It was built on the latest versions of both jQuery and Interface. 

 * jQuery 1.1 or above (tested with 1.2)
 * Interface 1.2 or above (only needs the components bellow, in that order)
   * iutil.js
   * idrag.js
   * idrop.js
   * isortables.js

= Usage =

== Basic Usage ==

Include the dependencies and the plugin itself on your HTML file.

{{{
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="interface.js"></script>
<script type="text/javascript" src="inestedsortable.js"></script>
}}}

Include the HTML that represents your nested list. I recommend you to use an UL with LIs to represent the list, but you can actually use any pair of HTML elements that can be nested. The elements that are being sorted (the ones with the "accept" class) should have an ID, so the list can be serialized and sent back to the server.

Be aware than when a new nesting is created (eg. you make an element a child of a childless element), the plugin will create a new HTML element of the same type of the container element (in this example an UL) with all css classes this element has, inside the parent element (in this example an LI). 

{{{
<ul id="list-container">
  <li class="sortable-element-class" id="ele-1">
    Element 1
  </li>
  <li class="sortable-element-class" id="ele-2">
    Element 2
  </li>
  <li class="sortable-element-class" id="ele-3">
    Element 3
    <ul>
      <li class="sortable-element-class" id="ele-4">
        Element 4
        <ul>
          <li class="sortable-element-class" id="ele-5">
            Element 5
          </li>
        </ul>
      </li>
    </ul>
  </li>
</ul>
}}}

Add the JavaScript code that will set up your NestedSortable list. The minimum configuration options are used bellow, but you probably should want to add more parameters, such as an onChange callback (read the next section).

{{{
jQuery( function($) {
$('#list-container').NestedSortable(
  {
    accept: 'sortable-element-class',
  }
);
});
}}}

== Configuration Parameters ==

The NestedSortable plugin will add two functions to the jQuery object: `NestedSortable` and `NestedSortableDestroy`. The first will configure the nested sortable and takes a object of configuration parameters, the second will undo such configuration and takes no parameters.

`NestedSortable` needs to be called on a jQuery object after selecting the elements that will be the list containers. If you have only one list you should probably use `$.NestedSortable("#element_id")` to select it.

The table bellow shows all the parameters that can be passed to the `NestedSortable`. These parameters are passed as a JS object. Use the `{}` notation to create such object. Many of those options are inherited from of the original Interface's Sortable.

Native options are exclusive to the NestedSortable plugin. Inherited came from Interface's Sortable.

|| Parameter Name  || Value Type || Type / Default || Description ||
|| accept ||  String || mandatory || Css class name of the elements that are going to the sorted. They have to be inside the selected list container. ||
|| rightToLeft || Boolean || native / `false` || If you set this options, the indentation will be applied from right to left. Useful for right-to-left reading languages. ||
|| nestingPxSpace || Integer || native / `30` || The indentation of the nested elements, in pixels. An "margin" css style will be applied to the nested list containers. ||
|| autoScroll || Boolean || native / `true` || By default, when you are dragging an element and reach the top or bottom edge of the screen, your browser window scroll automatically to reveal the NestedSortable elements that are not being displayed. ||
|| scrollSensitivity || Integer || native / 20 || How close to the edge you need to be in order for the autoScroll to happen. Only applied when is autoScroll is on. ||
|| scrollSpeed|| Integer || native / 20 || How fast will the window be scrolled by autoScroll. Only applied when is autoScroll is on. ||

= TODO for next versions = 

 * Provide an option to limit the levels of nesting that can be used
 * Allow the user to define elements that aren't containers (eg.: nothing can be nested into it). It would allow it to be used for organizing files and folders, for instance.